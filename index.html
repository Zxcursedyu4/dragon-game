<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dragon Kingdom</title>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --dark-bg: #2d3436;
            --text-light: #fff;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--dark-bg);
            color: var(--text-light);
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* –°—Ç–∏–ª–∏ –¥—Ä–∞–∫–æ–Ω–æ–≤ */
        .dragon-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            transition: transform 0.3s;
        }

        .dragon-card:hover {
            transform: scale(1.02);
        }

        .dragon-image {
            font-size: 50px;
            margin-right: 20px;
        }

        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-button {
            background: var(--primary-color);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            margin: 5px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .action-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 600px) {
            .dragon-card {
                flex-direction: column;
                text-align: center;
            }
            
            .dragon-image {
                margin: 0 0 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêâ Dragon Kingdom</h1>
        
        <!-- –ë–ª–æ–∫ –¥—Ä–∞–∫–æ–Ω–æ–≤ -->
        <div id="dragonsList"></div>

        <!-- –î–µ–π—Å—Ç–≤–∏—è -->
        <div class="actions">
            <button class="action-button" onclick="startMission()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –º–∏—Å—Å–∏—é (2h)</button>
            <button class="action-button" onclick="startTraining()">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å (2h)</button>
            <button class="action-button" onclick="openShop()">–ú–∞–≥–∞–∑–∏–Ω –∫–µ–π—Å–æ–≤</button>
            <button class="action-button" onclick="spinRoulette()">–ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É (4h)</button>
        </div>

        <!-- –ü–æ–ø–∞–ø –º–∞–≥–∞–∑–∏–Ω–∞ -->
        <div id="shopPopup" class="popup">
            <div class="popup-content">
                <h3>üéÅ –ú–∞–≥–∞–∑–∏–Ω –∫–µ–π—Å–æ–≤</h3>
                <div class="cases">
                    <div class="case-item" onclick="buyCase('common')">
                        <div class="case-icon">üì¶</div>
                        <p>–û–±—ã—á–Ω—ã–π –∫–µ–π—Å</p>
                        <p>100 –º–æ–Ω–µ—Ç</p>
                    </div>
                    <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –∫–µ–π—Å—ã -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const RARITIES = {
            COMMON: { color: '#7f8c8d', multiplier: 1 },
            RARE: { color: '#3498db', multiplier: 2 },
            EPIC: { color: '#9b59b6', multiplier: 3 },
            LEGENDARY: { color: '#f1c40f', multiplier: 5 },
            ANCIENT: { color: '#e74c3c', multiplier: 10 }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            dragons: [],
            balance: 1000,
            lastMission: 0,
            lastTraining: 0,
            lastSpin: 0
        };

        // –ö–ª–∞—Å—Å –î—Ä–∞–∫–æ–Ω–∞
        class Dragon {
            constructor(rarity, name) {
                this.name = name;
                this.rarity = rarity;
                this.level = 1;
                this.exp = 0;
                this.stats = {
                    strength: 10 * RARITIES[rarity].multiplier,
                    agility: 10 * RARITIES[rarity].multiplier,
                    stamina: 100 * RARITIES[rarity].multiplier
                };
                this.isBusy = false;
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –¥—Ä–∞–∫–æ–Ω–∞
        function generateDragon(rarity) {
            const names = ['–ò–≥–Ω–∏—Å', '–ó–µ–ª—å–¥–∞', '–ê–ª—å–¥–æ—Ä–∏–Ω', '–°–º–∞—Ä–∞–≥', '–í—É–ª–∫–∞–Ω'];
            return new Dragon(
                rarity, 
                names[Math.floor(Math.random() * names.length)]
            );
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            const container = document.getElementById('dragonsList');
            container.innerHTML = '';
            
            gameState.dragons.forEach(dragon => {
                const card = document.createElement('div');
                card.className = 'dragon-card';
                card.innerHTML = `
                    <div class="dragon-image">${getDragonArt(dragon.rarity)}</div>
                    <div>
                        <h3>${dragon.name} (${RARITIES[dragon.rarity].name})</h3>
                        <p>–£—Ä–æ–≤–µ–Ω—å: ${dragon.level}</p>
                        <p>–°–∏–ª–∞: ${dragon.stats.strength} üí™</p>
                        <p>–õ–æ–≤–∫–æ—Å—Ç—å: ${dragon.stats.agility} üèÉ</p>
                        <p>–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å: ${dragon.stats.stamina} ‚ù§Ô∏è</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ç–∞ –¥—Ä–∞–∫–æ–Ω–∞
        function getDragonArt(rarity) {
            const arts = {
                COMMON: 'üêâ',
                RARE: 'üê≤',
                EPIC: 'üî•üê≤üî•',
                LEGENDARY: '‚ú®üêâ‚ú®',
                ANCIENT: '‚ö°üê≤‚ö°'
            };
            return arts[rarity] || 'üê≤';
        }

        // –ó–∞–ø—É—Å–∫ –º–∏—Å—Å–∏–∏
        function startMission() {
            if (Date.now() - gameState.lastMission < 7200000) {
                alert('–ú–∏—Å—Å–∏–∏ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞–∑ –≤ 2 —á–∞—Å–∞!');
                return;
            }
            
            // –õ–æ–≥–∏–∫–∞ –º–∏—Å—Å–∏–∏
            gameState.lastMission = Date.now();
            gameState.balance += 500;
            updateUI();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function initGame() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
            const saved = localStorage.getItem('dragonGame');
            if (saved) gameState = JSON.parse(saved);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –¥—Ä–∞–∫–æ–Ω–∞
            if (gameState.dragons.length === 0) {
                gameState.dragons.push(generateDragon('COMMON'));
            }
            
            updateUI();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            localStorage.setItem('dragonGame', JSON.stringify(gameState));
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        initGame();
        setInterval(saveGame, 30000); // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
    </script>
</body>
</html>