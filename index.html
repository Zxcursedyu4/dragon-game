<!DOCTYPE html>
<html>
<head>
    <title>–î—Ä–∞–∫–æ–Ω–∏–π –ú–∞–≥–∞–∑–∏–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial;
            text-align: center;
            padding: 20px;
            background: #f0f8ff;
        }
        .dragon-pen {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .dragon {
            font-size: 60px;
            background: #fff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 120px;
        }
        .shop {
            background: #fff;
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            max-width: 300px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        .stat {
            background: #e9f5e9;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>üêâ –î—Ä–∞–∫–æ–Ω–∏–π –ó–æ–æ–ø–∞—Ä–∫</h1>
    
    <div class="stats">
        <div class="stat">üçó –ö–æ—Ä–º: <span id="food">10</span></div>
        <div class="stat">üí∞ –ú–æ–Ω–µ—Ç—ã: <span id="coins">50</span></div>
    </div>
    
    <h2>–í–∞—à–∏ –¥—Ä–∞–∫–æ–Ω—ã:</h2>
    <div class="dragon-pen" id="dragonPen">
        <!-- –î—Ä–∞–∫–æ–Ω—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
    </div>
    
    <div class="shop">
        <h3>–ú–∞–≥–∞–∑–∏–Ω</h3>
        <button onclick="buyFood()">–ö—É–ø–∏—Ç—å –∫–æ—Ä–º (5üí∞)</button>
        <button onclick="buyDragonSlot()">–ù–æ–≤–æ–µ –º–µ—Å—Ç–æ (100üí∞)</button>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        const game = {
            food: 10,
            coins: 50,
            dragons: ['üê≤', 'üêâ'],
            maxDragons: 2
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Mini App
        Telegram.WebApp.expand();
        Telegram.WebApp.MainButton.setText('–ó–∞–∫—Ä—ã—Ç—å').show();
        Telegram.WebApp.MainButton.onClick(() => Telegram.WebApp.close());

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('food').textContent = game.food;
            document.getElementById('coins').textContent = game.coins;
            
            const pen = document.getElementById('dragonPen');
            pen.innerHTML = '';
            
            game.dragons.forEach((dragon, index) => {
                const dragonElement = document.createElement('div');
                dragonElement.className = 'dragon';
                dragonElement.innerHTML = `
                    ${dragon}
                    <div>
                        <button onclick="feedDragon(${index})">–ö–æ—Ä–º–∏—Ç—å (1üçó)</button>
                    </div>
                `;
                pen.appendChild(dragonElement);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–µ –º–µ—Å—Ç–∞
            for (let i = game.dragons.length; i < game.maxDragons; i++) {
                const emptySlot = document.createElement('div');
                emptySlot.className = 'dragon';
                emptySlot.textContent = 'üï≥Ô∏è';
                pen.appendChild(emptySlot);
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã
        function feedDragon(index) {
            if (game.food > 0) {
                game.food--;
                game.coins += 5; // –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ –∫–æ—Ä–º–ª–µ–Ω–∏–µ
                Telegram.WebApp.showAlert('–î—Ä–∞–∫–æ–Ω —Å—ã—Ç! +5 –º–æ–Ω–µ—Ç');
                updateUI();
            } else {
                Telegram.WebApp.showAlert('–ù–µ—Ç –∫–æ—Ä–º–∞!');
            }
        }

        function buyFood() {
            if (game.coins >= 5) {
                game.coins -= 5;
                game.food += 3;
                Telegram.WebApp.showAlert('–ö—É–ø–ª–µ–Ω–æ 3 –∫–æ—Ä–º–∞!');
                updateUI();
            } else {
                Telegram.WebApp.showAlert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
            }
        }

        function buyDragonSlot() {
            if (game.coins >= 100) {
                game.coins -= 100;
                game.maxDragons++;
                Telegram.WebApp.showAlert(`–¢–µ–ø–µ—Ä—å —É –≤–∞—Å ${game.maxDragons} –º–µ—Å—Ç –¥–ª—è –¥—Ä–∞–∫–æ–Ω–æ–≤!`);
                updateUI();
            } else {
                Telegram.WebApp.showAlert('–ù—É–∂–Ω–æ 100 –º–æ–Ω–µ—Ç!');
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥—Ä–∞–∫–æ–Ω–∞ (–º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –ø–æ–∑–∂–µ)
        function addDragon() {
            if (game.dragons.length < game.maxDragons) {
                const types = ['üê≤', 'üêâ', 'üî•', 'ü¶é', 'üêä'];
                game.dragons.push(types[Math.floor(Math.random() * types.length)]);
                updateUI();
            }
        }

        // –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
        updateUI();
    </script>
</body>
</html>
