<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dragon Kingdom</title>
    <style>
        :root {
            --bg-dark: #0A0416;
            --accent-purple: #4A1B6E;
            --text-purple: #A45EEB;
            --highlight: #FF6EC7;
            --text-light: #FFFFFF;
            --section-bg: rgba(74, 27, 110, 0.3);
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            margin: 0;
            padding: 0;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-tabs {
            display: flex;
            justify-content: space-around;
            padding: 1rem;
            background: var(--accent-purple);
            position: fixed;
            bottom: 0;
            width: 100%;
            z-index: 1000;
        }

        .nav-item {
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item.active {
            border-bottom: 3px solid var(--highlight);
        }

        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            display: none;
            padding: 2rem;
            padding-bottom: 6rem;
        }

        .section.active {
            display: block;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –¥—Ä–∞–∫–æ–Ω–∞ */
        .dragon-card {
            background: var(--section-bg);
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .dragon-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.8rem;
            color: var(--highlight);
        }

        /* –†—É–ª–µ—Ç–∫–∞ */
        .roulette-wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: var(--accent-purple);
            margin: 2rem auto;
            position: relative;
            overflow: hidden;
            transform: rotate(0deg);
            transition: transform 3s;
        }

        .roulette-segment {
            position: absolute;
            width: 100%;
            height: 100%;
            clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);
            transform-origin: 50% 50%;
        }

        /* –¢–∞–π–º–µ—Ä—ã */
        .timer {
            background: var(--highlight);
            color: var(--bg-dark);
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            display: inline-block;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="nav-tabs">
        <div class="nav-item active" onclick="showSection('main')">üè† –ì–ª–∞–≤–Ω–∞—è</div>
        <div class="nav-item" onclick="showSection('training')">üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>
        <div class="nav-item" onclick="showSection('hunt')">‚öîÔ∏è –û—Ö–æ—Ç–∞</div>
        <div class="nav-item" onclick="showSection('roulette')">üé° –†—É–ª–µ—Ç–∫–∞</div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
    <div id="main" class="section active">
        <div class="balance">üí∞ –ë–∞–ª–∞–Ω—Å: <span id="balance">1500</span></div>
        
        <h2>–í–∞—à–∏ –¥—Ä–∞–∫–æ–Ω—ã</h2>
        <div id="dragonsList"></div>
        
        <button class="action-button" onclick="showDragonSelection('mission')">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≤—ã–ª–∞–∑–∫—É</button>
        <button class="action-button" onclick="showDragonSelection('training')">–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
    </div>

    <!-- –°–µ–∫—Ü–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
    <div id="training" class="section">
        <h2>üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä—É—é—â–∏–µ—Å—è –¥—Ä–∞–∫–æ–Ω—ã</h2>
        <div id="trainingList"></div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è –æ—Ö–æ—Ç—ã -->
    <div id="hunt" class="section">
        <h2>‚öîÔ∏è –î—Ä–∞–∫–æ–Ω—ã –Ω–∞ –∑–∞–¥–∞–Ω–∏–∏</h2>
        <div id="huntList"></div>
    </div>

    <!-- –†—É–ª–µ—Ç–∫–∞ -->
    <div id="roulette" class="section">
        <div class="roulette-wheel" id="rouletteWheel"></div>
        <button class="action-button" onclick="spinRoulette()">–ö—Ä—É—Ç–∏—Ç—å (4—á)</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="dragonSelectModal" class="modal">
        <div class="modal-content">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä–∞–∫–æ–Ω–∞</h2>
            <div id="availableDragons"></div>
            <button onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

<script>
// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
let gameState = {
    balance: 1500,
    dragons: [
        {id: 1, name: "–í—É–ª–∫–∞–Ω", level: 1, status: "free", 
         stats: {strength: 10, agility: 10}, tasks: []}
    ],
    lastRoulette: 0
};

// –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é
function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    event.target.classList.add('active');
}

// –í—ã–±–æ—Ä –¥—Ä–∞–∫–æ–Ω–∞
function showDragonSelection(actionType) {
    const modal = document.getElementById('dragonSelectModal');
    modal.style.display = 'block';
    
    const list = document.getElementById('availableDragons');
    list.innerHTML = gameState.dragons
        .filter(d => d.status === 'free')
        .map(d => `
            <div class="dragon-card" onclick="startAction(${d.id}, '${actionType}')">
                ${d.name} (–£—Ä. ${d.level})
            </div>
        `).join('');
}

// –ó–∞–ø—É—Å–∫ –¥–µ–π—Å—Ç–≤–∏—è
function startAction(dragonId, actionType) {
    const dragon = gameState.dragons.find(d => d.id === dragonId);
    dragon.status = actionType;
    dragon.tasks.push({
        type: actionType,
        endTime: Date.now() + (actionType === 'mission' ? 7200000 : 7200000)
    });
    
    updateUI();
    closeModal();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
function updateUI() {
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
    document.getElementById('dragonsList').innerHTML = gameState.dragons
        .map(d => createDragonCard(d)).join('');
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
    document.getElementById('trainingList').innerHTML = gameState.dragons
        .filter(d => d.status === 'training')
        .map(d => createDragonCard(d)).join('');
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–æ—Ç—ã
    document.getElementById('huntList').innerHTML = gameState.dragons
        .filter(d => d.status === 'mission')
        .map(d => createDragonCard(d)).join('');
}

// –†—É–ª–µ—Ç–∫–∞
function initRoulette() {
    const prizes = ['üí∞ 100 –º–æ–Ω–µ—Ç', '‚ö° –£—Å–∫–æ—Ä–µ–Ω–∏–µ', 'üêâ –î—Ä–∞–∫–æ–Ω', 'üéÅ –ö–µ–π—Å'];
    const wheel = document.getElementById('rouletteWheel');
    wheel.innerHTML = prizes
        .map((p, i) => `
            <div class="roulette-segment" style="transform: rotate(${i * 90}deg)">
                ${p}
            </div>
        `).join('');
}

function spinRoulette() {
    if (Date.now() - gameState.lastRoulette < 14400000) {
        alert('–†—É–ª–µ—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ä–∞–∑ –≤ 4 —á–∞—Å–∞!');
        return;
    }
    
    const wheel = document.getElementById('rouletteWheel');
    const degrees = Math.floor(Math.random() * 360) + 1440;
    wheel.style.transform = `rotate(${degrees}deg)`;
    
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–∞
    setTimeout(() => {
        const prizeIndex = Math.floor((degrees % 360) / 90);
        alert(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${prizes[prizeIndex]}!`);
        gameState.lastRoulette = Date.now();
    }, 3000);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
window.onload = () => {
    initRoulette();
    updateUI();
    setInterval(() => {
        gameState.dragons.forEach(d => {
            d.tasks = d.tasks.filter(t => t.endTime > Date.now());
            if (d.tasks.length === 0) d.status = 'free';
        });
        updateUI();
    }, 1000);
};
</script>
</body>
</html>